
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vocabulary</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <!-- Bootstrap 5 CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="./vocabulary.css">
<style>
 

</style>

</head>
<body>
  <div class="container">
                <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                          <div class="container-fluid">
                            <a class="navbar-brand" href="#">ALAKATA</a>
                            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown">
                              <span class="navbar-toggler-icon"></span>
                            </button>
                            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                              <ul class="navbar-nav ms-auto">
                                <li class="nav-item">
                                  <a class="nav-link" href="../home.html">Home</a>
                                </li>
                                <li class="nav-item dropdown">
                                  <a class="nav-link dropdown-toggle" href="#" id="coursesDropdown" role="button" data-bs-toggle="dropdown">
                                    Courses
                                  </a>
                                  <ul class="dropdown-menu dropdown-menu-end">
                                    <li><a class="dropdown-item" href="../home.html">Conjugation</a></li>
                                    <li><a class="dropdown-item" href="../home.html">Adjectives</a></li>
                                    <li><a class="dropdown-item" href="../home.html">Adverbs</a></li>
                                    <li><a class="dropdown-item" href="../home.html">Grammar</a></li>
                                    <li><a class="dropdown-item" href="../home.html">Articles</a></li>
                                    <li><a class="dropdown-item" href="../home.html">Verbs</a></li>
                                    <li><a class="dropdown-item" href="../home.html">Questions</a></li>
                                    <li><a class="dropdown-item" href="../home.html">Negation</a></li>
                                  </ul>
                                </li>
                                <li class="nav-item">
                                  <a class="nav-link" href="./vocabularycart/vocabularyCartA.html">Downloads</a>
                                </li>
                              </ul>
                            </div>
                          </div>
                </nav>
    <!-- Sidebar Left -->
                <aside class="sidebar">
                  <!-- <h2>Word List</h2> -->
                  <ul id="wordList" class="list-group sidebar"></ul>
                </aside>
                
    <!-- Main Content -->
                <main class="main">
                                             <div id="controls" style="display:none;" class="controls">
                            <button id="prevBtn">Previous</button>
                            <button id="pauseResumeBtn">Pause</button>
                            <button id="stopBtn">Stop</button>
                            <button id="nextBtn">Next</button>
                          </div> 
                          <div id="wordDisplay">▶ Play </div>

                           <div class="pagination">
                            <a class="letter active" href="./vocabulary.html">A</a>
                            <a class="letter" href="./vocabularyB.html">B</a>
                            <a class="letter" href="./vocabularyC.html">C</a>
                            <a class="letter" href="./vocabularyD.html">D</a>
                            <a class="letter" href="./vocabularyE.html">E</a>
                            <a class="letter" href="./vocabularyF.html">F</a>
                            <a class="letter" href="./vocabularyG.html">G</a>
                            <a class="letter" href="./vocabularyH.html">H</a>
                            <a class="letter" href="./vocabularyI.html">I</a>
                            <a class="letter" href="./vocabularyJ.html">J</a>
                            <a class="letter" href="./vocabularyK.html">K</a>
                            <a class="letter" href="./vocabularyK.html">L</a>
                            <a class="letter" href="./vocabularyM.html">M</a>
                            <a class="letter" href="./vocabularyN.html">N</a>
                            <a class="letter" href="./vocabularyO.html">O</a>
                            <a class="letter" href="./vocabularyP.html">P</a>
                            <a class="letter" href="./vocabularyQ.html">Q</a>
                            <a class="letter" href="./vocabularyR.html">R</a>
                            <a class="letter" href="./vocabularyS.html">S</a>
                            <a class="letter" href="./vocabularyT.html">T</a>
                            <a class="letter" href="./vocabularyV.html">U</a>
                            <a class="letter" href="./vocabularyV.html">V</a>
                            <a class="letter" href="./vocabularyW.html">W</a>
                            <a class="letter" href="./vocabularyX.html">X</a>
                            <a class="letter" href="./vocabularyY.html">Y</a>
                            <a class="letter" href="./vocabularyZ.html">Z</a>
                          </div> 
                        </main>

    <!-- Sidebar Right -->
    <aside class="sidebar">
      <h2> Downloads </h2>
         <p>
        Download PDF of A Vocabulary
        <span><a href="./vocabularycart/vocabularyCartA.html">here</a></span>
      </p>
      <p>
        Download Fill in the blank exercises
        <span><a href="./vocabularycart/vocabularyCartA.html">here</a></span>
      </p> 
    </aside>
  </div>


 



  <script>
//  word script Here  
const words = [
  ["game", "juego"],
  ["garden", "jardín"],
  ["gift", "regalo"],
  ["girl", "niña"],
  ["glass", "vidrio"],
  ["go", "ir"],
  ["good", "bueno"],
  ["great", "grande"],
  ["green", "verde"],
  ["group", "grupo"],
  ["gain", "ganar"],
  ["goal", "objetivo"],
  ["gap", "brecha"],
  ["gas", "gas"],
  ["gather", "reunir"],
  ["generate", "generar"],
  ["gesture", "gesto"],
  ["geography", "geografía"],
  ["global", "global"],
  ["grade", "grado"],
  ["graph", "gráfico"],
  ["ground", "suelo"],
  ["guide", "guía"],
  ["guilty", "culpable"],
  ["guarantee", "garantía"],
  ["glance", "vistazo"],
  ["glue", "pegamento"],
  ["gold", "oro"],
  ["gourmet", "gourmet"],
  ["grammar", "gramática"],
  ["grow", "crecer"],
  ["growl", "gruñir"],
  ["gift", "don"],
  ["guest", "huésped"],
  ["giggle", "reír"],
  ["gallery", "galería"],
  ["garbage", "basura"],
  ["guardian", "guardián"],
  ["glorious", "glorioso"],
  ["groove", "surco"],
  ["grip", "agarre"],
  ["glee", "alegría"],
  ["glow", "resplandor"],
  ["gamble", "apostar"],
  ["gallop", "galopar"],
  ["grim", "sombrío"],
  ["grind", "moler"],
  ["grower", "cultivador"],
  ["gory", "sangriento"],
  ["genius", "genio"],
  ["gamble", "juego de azar"],
  ["grab", "agarrar"],
  ["gather", "recolectar"],
  ["giddy", "mareado"],
  ["gap", "vacío"],
  ["gain", "ganancia"],
  ["gadget", "dispositivo"],
  ["gash", "corte"],
  ["gear", "equipo"],
  ["giddy", "aturdido"],
  ["gloom", "tristeza"],
  ["gossip", "chisme"],
  ["golden", "dorado"],
  ["gravity", "gravedad"],
  ["gamble", "riesgo"],
  ["gait", "paso"],
  ["guidebook", "guía turística"],
  ["glamour", "glamour"],
  ["glitter", "brillar"],
  ["groan", "gemido"],
  ["glare", "resplandor"],
  ["grin", "sonrisa"],
  ["grape", "uva"],
  ["grain", "grano"],
  ["gospel", "evangelio"],
  ["guardian", "protector"],
  ["gender", "género"],
  ["garage", "garaje"],
  ["glacier", "glaciar"],
  ["gasp", "jadeo"],
  ["grief", "duelo"],
  ["garden", "huerto"],
  ["glean", "recoger"],
  ["goggle", "gafas de nadar"],
  ["grasp", "comprensión"],
  ["gnaw", "roer"],
  ["game", "partido"],
  ["glee", "felicidad"],
  ["gap", "diferencia"],
  ["graze", "pastar"],
  ["glint", "destello"],
  ["grapple", "luchar"],
  ["gizmo", "artilugio"],
  ["groovy", "moderno"],
  ["gobble", "engullir"],
  ["gaudy", "llamativo"],
  ["growth", "crecimiento"],
  ["glimmer", "destello"],
  ["gurgle", "burbujear"],
  ["garish", "chillón"],
  ["glaze", "vidriado"],
  ["giddy", "loco"],
  ["gift", "obsequio"],
  ["grunt", "gruñido"],
  ["garb", "vestimenta"],
  ["grate", "rallar"],
  ["garnish", "guarnición"],
  ["gum", "chicle"],
  ["gamble", "arriesgar"],
  ["garrison", "guarnición"],
  ["gamekeeper", "guardabosques"],
  ["grunt", "gruntido"],
  ["gyrate", "girar"],
  ["glacier", "glacial"],
  ["gazette", "gaceta"],
  ["gap", "separación"],
  ["grasp", "aprehender"],
  ["gawk", "mirar fijamente"],
  ["gumbo", "gumbo"],
  ["gala", "gala"],
  ["gadget", "artilugio"],
  ["gallant", "gallardo"],
  ["gaunt", "demacrado"],
  ["gigabyte", "gigabyte"],
  ["gaggle", "grupo de gansos"],
  ["grizzly", "pardo"],
  ["gibberish", "palabrería"],
  ["gorge", "desfiladero"],
  ["garland", "guirnalda"],
  ["gargle", "hacer gárgaras"],
  ["goalpost", "poste de gol"],
  ["gawker", "mirón"],
  ["gyroscope", "giróscopo"],
  ["grimace", "mueca"],
  ["gumption", "iniciativa"],
  ["granule", "gránulo"],
  ["gumdrop", "caramelo"],
  ["gnome", "gnomo"],
  ["gust", "ráfaga"],
  ["glut", "exceso"],
  ["gullet", "esófago"],
  ["gash", "hendidura"],
  ["globe", "globo"],
  ["gabble", "hablar rápidamente"],
  ["gloss", "brillo"],
  ["gavel", "mazo"],
  ["gregarious", "gregario"],
  ["gawky", "torpe"],
  ["grist", "grano molido"],
  ["gumshoe", "detective"],
  ["grotesque", "grotesco"],
  ["gag", "broma"],
  ["gabardine", "gabardina"],
  ["grapple", "asir"],
  ["gutter", "canalón"],
  ["gloat", "jactarse"],
  ["gusto", "gusto"],
  ["gymnasium", "gimnasio"],
  ["gossamer", "ligero"],
  ["gnarled", "nudoso"],
  ["glade", "claro"],
  ["guile", "astucia"],
  ["grimy", "sucio"],
  ["glacial", "glacial"],
  ["glean", "recolectar"],
  ["garnet", "granate"],
  ["ghost", "fantasma"],
  ["giraffe", "jirafa"],
  ["gilded", "dorado"],
  ["gestation", "gestación"],
  ["gaze", "mirar"],
  ["gait", "andar"],
  ["goldfish", "pez de oro"],
  ["glutton", "glotón"],
  ["grenade", "granada"],
  ["gazebo", "cenador"],
  ["gnash", "rechinar"],
  ["glamor", "encanto"],
  ["galactic", "galáctico"],
  ["grievance", "queja"],
  ["grouch", "gruñón"],
  ["globetrotter", "trotamundos"],
  ["gallows", "horca"],
  ["girth", "circunferencia"],
  ["grunge", "grunge"],
  ["groundhog", "marmota"],
  ["gobbler", "tragón"],
  ["garrote", "garrote"],
  ["glib", "elocuente"],
  ["glossary", "glosario"],
  ["gilt", "dorado"],
  ["gorgon", "gorgona"],
  ["girder", "viga"],
  ["ghostwriter", "escritor fantasma"],
  ["grouse", "queja"],
  ["gullible", "crédulo"],
  ["gimmick", "truco"],
  ["gregarious", "sociable"],
  ["grease", "grasa"],
  ["gaff", "gancho"],
  ["glow", "brillar"],
  ["gopher", "ardilla"],
  ["gang", "pandilla"],
  ["gesticulate", "gesticular"],
  ["goliath", "gigante"],
  ["gabbro", "gabro"],
  ["gawp", "mirar fijamente"],
  ["gulp", "trago"],
  ["goad", "incitar"],
  ["gamely", "valientemente"],
  ["gallivant", "pasear"],
  ["gargantuan", "gargantuesco"],
  ["gouge", "cavar"],
  ["gauntlet", "guante"],
  ["galaxy", "galaxia"],
  ["gig", "actuación"],
  ["grief", "dolor"],
  ["granola", "granola"],
  ["grit", "determinación"],
  ["gun", "pistola"],
  ["gel", "gel"],
  ["gorgeous", "precioso"],
  ["galore", "abundante"],
  ["gaze", "contemplar"],
  ["grumble", "quejarse"],
  ["grappling", "lucha"],
  ["grouch", "malhumorado"],
  ["glyph", "glifo"],
  ["gauge", "calibrar"],
  ["ghostly", "fantasmal"],
  ["grapple", "agarrar"],
  ["gorge", "atracón"],
  ["gristle", "cartílago"],
  ["grieve", "lamentar"],
  ["gymnastic", "gimnástico"],
  ["gaiety", "alegría"],
  ["gully", "barranco"],
  ["gabble", "balbucear"],
  ["ganache", "ganache"],
  ["gleam", "brillo"],
  ["gorilla", "gorila"],
  ["gray", "gris"],
  ["guppy", "pez de colores"],
  ["guffaw", "carcajada"],
  ["gunpowder", "pólvora"],
  ["grueling", "agotador"],
  ["gleeful", "alegre"],
  ["genetic", "genético"],
  ["guileless", "inocente"],
  ["grizzle", "canoso"],
  ["gloom", "oscuridad"],
  ["gamer", "jugador"],
  ["gangster", "gánster"],
  ["gyration", "giro"],
  ["gawkward", "torpe"],
  ["gauge", "medida"],
  ["gild", "dorar"],
  ["grapevine", "parra"],
  ["griddle", "plancha"],
  ["gormless", "torpe"],
  ["gusty", "ventoso"],
  ["guff", "tontería"],
  ["glowworm", "luciérnaga"],
  ["gent", "caballero"],
  ["gentility", "gentileza"],
  ["gin", "ginebra"],
  ["gangling", "desgarbado"],
  ["gleaning", "recogida"],
  ["goldenrod", "doradilla"],
  ["gleeclub", "coro de alegría"],
  ["grime", "suciedad"],
  ["genial", "genial"],
  ["granger", "granjero"],
  ["geniality", "genialidad"],
  ["gagging", "ahogo"],
  ["glittering", "brillante"],
  ["giftwrap", "envolver regalos"],
  ["grindstone", "piedra de afilar"],
  ["greenhorn", "novato"],
  ["gallbladder", "vesícula biliar"],
  ["gorget", "gorguera"],
  ["gaffe", "error"],
  ["gaping", "boquiabierto"],
  ["greenlight", "luz verde"],
  ["gamut", "gama"],
  ["gregariously", "socialmente"],
  ["grumpily", "malhumorado"],
  ["gently", "suavemente"],
  ["gushing", "efusivo"],
  ["gustatory", "gustativo"],
  ["globalize", "globalizar"],
  ["gallivant", "vagabundear"],
  ["goggle", "gafas de buceo"],
  ["gown", "vestido"],
  ["grinning", "sonriendo"],
  ["gainful", "lucrativo"],
  ["gamete", "gameto"],
  ["gregariousness", "sociabilidad"],
  ["ganja", "marihuana"],
  ["gameplan", "plan de juego"],
  ["gustation", "degustación"],
  ["galvanize", "galvanizar"],
  ["gash", "herida"],
  ["gloom", "melancolía"],
  ["grace", "gracia"],
  ["gallant", "valiente"],
  ["gravel", "grava"],
  ["glide", "deslizar"],
  ["gatherer", "recolector"],
  ["grim", "serio"],
  ["gang", "banda"],
  ["gem", "gema"],
  ["grail", "santo grial"],
  ["gurgling", "burbujeante"],
  ["ghetto", "gueto"],
  ["guard", "guardar"],
  ["gizmo", "artefacto"],
  ["gauze", "gasa"],
  ["glum", "sombrío"],
  ["grumble", "refunfuñar"],
  ["glee", "gozo"],
  ["gangly", "desgarbado"],
  ["gleefully", "alegremente"],
  ["glimmering", "resplandeciente"],
  ["gladiator", "gladiador"],
  ["gracefulness", "elegancia"],
  ["galore", "en abundancia"],
  ["griping", "quejándose"],
  ["geyser", "géiser"],
  ["genealogy", "genealogía"],
  ["gust", "racha"],
  ["gracious", "cortés"],
  ["grit", "coraje"],
  ["gasping", "jadeando"],
  ["gypsy", "gitano"],
  ["gorgeous", "hermoso"],
  ["grouchy", "malhumorado"],
  ["gentry", "nobleza"],
  ["gum", "goma"],
  ["gearshift", "cambio"],
  ["glottal", "glotal"],
  ["gremlin", "duende"],
  ["garnish", "adorno"],
  ["gourmet", "culinario"],
  ["gnarled", "torcido"],
  ["gaily", "alegremente"],
  ["gully", "torrente"],
  ["grievous", "grave"],
  ["gear", "engranaje"],
  ["grouse", "quejarse"],
  ["grizzly", "grizzly"],
  ["gaggle", "grupo"],
  ["grater", "rallador"],
  ["guileful", "astuto"],
  ["grin", "sonreír"],
  ["glisten", "brillar"],
  ["gym", "gimnasio"],
  ["grump", "gruñón"],
  ["gander", "ganso"],
  ["grandiose", "grandioso"],
  ["goldsmith", "orfebre"],
  ["giddy", "alocado"],
  ["gargantuan", "gigante"],
  ["galley", "galera"],
  ["greeting", "saludo"],
  ["grimly", "sombríamente"],
  ["grovel", "arrastrarse"],
  ["golf", "golf"],
  ["genome", "genoma"],
  ["glove", "guante"],
  ["geocentric", "geocéntrico"],
  ["gambit", "gambito"],
  ["gram", "gramo"],
  ["gibber", "balbucear"],
  ["gleaming", "brillante"],
  ["gallantry", "gallardía"],
  ["guest", "invitado"],
  ["grasp", "agarre"],
  ["garner", "conseguir"],
  ["gulf", "golfo"],
  ["gain", "aumento"],
  ["goose", "ganso"],
  ["gratify", "satisfacer"],
  ["gooey", "pegajoso"],
  ["goodnight", "buenas noches"],
  ["girdle", "faja"],
  ["googol", "googol"],
  ["groveling", "arrastrándose"],
  ["gale", "vendaval"],
  ["galas", "galas"],
  ["gaudy", "chillón"],
  ["gleam", "destello"],
  ["graphic", "gráfico"],
  ["grisly", "espantoso"],
  ["gauge", "medir"],
  ["gather", "recoger"],
  ["greet", "saludar"],
  ["goblet", "copa"],
  ["glee club", "club de alegría"],
  ["glockenspiel", "carillón"],
  ["gobbledygook", "palabrería"],
  ["grudge", "rencor"],
  ["goodly", "bondadoso"],
  ["gravitate", "gravitar"],
  ["grave", "tumba"],
  ["gory", "espeluznante"],
  ["geode", "geoda"],
  ["gnat", "mosquito"],
  ["gull", "gaviota"],
  ["grumpy", "malhumorado"],
  ["giddily", "alegremente"],
  ["gallivanting", "vagabundeando"],
  ["gab", "hablar"],
  ["gamboled", "brincó"],
  ["gorgeously", "hermosamente"],
  ["ghastly", "espantoso"],
  ["gorgonzola", "gorgonzola"],
  ["gravestone", "lápida"],
  ["grog", "grog"],
  ["grate", "rallador"],
  ["grumpy", "gruñón"],
  ["glamor", "glamour"],
  ["grabble", "agarrar"],
  ["gloating", "jactándose"],
  ["grandiosity", "grandiosidad"],
  ["glowing", "resplandeciente"],
  ["gurney", "camilla"],
  ["garrulous", "hablador"],
  ["gargantuan", "enorme"],
  ["glamorize", "embellecer"],
  ["glitzy", "brillante"],
  ["gruel", "papilla"],
  ["grisly", "espeluznante"],
  ["grouch", "quejica"],
  ["goat", "cabra"],
  ["gene", "gen"],
  ["goon", "matón"],
  ["grid", "cuadrícula"],
  ["genuflect", "arrodillarse"],
  ["gable", "frontón"],
  ["granite", "granito"],
  ["gallivanting", "paseando"],
  ["glee club", "coro de alegría"],
  ["grating", "ralladura"],
  ["globetrotting", "trotamundos"],
  ["guilt", "culpa"],
  ["gunk", "basura"],
  ["gruff", "áspero"],
  ["grasp", "asir"],
  ["gauging", "calibración"],
  ["galleon", "galeón"],
  ["gargantuan", "gigantesco"],
  ["gecko", "gecko"],
  ["glowing", "brillante"],
  ["garner", "obtener"],
  ["gall", "bilis"],
  ["genre", "género"],
  ["gibbous", "giboso"],
  ["gab", "charlar"],
  ["gliding", "deslizante"],
  ["gourd", "calabaza"],
  ["giddiness", "mareo"],
  ["gab", "balbucear"],
  ["grizzly", "oso pardo"],
  ["gage", "medida"],
  ["gobbledygook", "jerigonza"],
  ["gluttony", "glotonería"],
  ["grand", "grandioso"],
  ["gratitude", "gratitud"],
  ["gentle", "gentil"],
  ["gloating", "jactarse"],
  ["goblin", "duende"],
  ["gallivanting", "vagabundear"],
  ["great", "grandioso"],
  ["gruel", "gachas"],
  ["gaming", "juego"],
  ["goading", "incitar"],
  ["great", "genial"],
  ["glass", "cristal"],
  ["garner", "recoger"],
  ["grant", "conceder"],
  ["gnarly", "nudoso"],
  ["glow", "resplandecer"],
  ["grasp", "agarrar"],
  ["gung-ho", "entusiasta"],
  ["gaslight", "luz de gas"],
  ["goading", "provocación"],
  ["grill", "parrilla"],
  ["gibberish", "balbuceo"],
  ["glaring", "deslumbrante"],
  ["glad", "contento"],
  ["gill", "agalla"],
  ["grainy", "arenoso"],
  ["glare", "deslumbrar"],
  ["grateful", "agradecido"],
  ["goal", "meta"],
  ["gazelle", "gacela"],
  ["glory", "gloria"],
  ["gorging", "engullir"],
  ["gracious", "amable"],
  ["globule", "glóbulo"],
  ["gossamer", "gasa"],
  ["giant", "gigante"],
  ["guide", "guiar"],
  ["grandiloquent", "grandilocuente"],
  ["grieve", "afligir"],
  ["groovy", "genial"],
  ["goofball", "tonto"],
  ["gathering", "reunión"],
  ["gleeful", "feliz"],
  ["gale", "tormenta"],
  ["groan", "gemir"],
  ["glum", "triste"],
  ["glance", "mirar"],
  ["grumbling", "refunfuñando"],
  ["gorging", "atracón"],
  ["graceful", "elegante"],
  ["gulp", "tragar"]
];



    const display = document.getElementById('wordDisplay');
    const controls = document.getElementById('controls');
    const prevBtn = document.getElementById('prevBtn');
    const pauseResumeBtn = document.getElementById('pauseResumeBtn');
    const stopBtn = document.getElementById('stopBtn');
    const nextBtn = document.getElementById('nextBtn');
    const wordList = document.getElementById('wordList');

    let index = 0;
    let started = false;
    let stopRequested = false;
    let skipRequested = false;
    let pauseRequested = false;
    let jumpToIndex = false;

    // Populate sidebar list
    words.forEach(([en, es], i) => {
      const li = document.createElement('li');
          li.classList.add('list-group-item');
      li.textContent = `${en} - ${es}`;
      li.dataset.idx = i;
      li.addEventListener('click', () => {
        index = i;
        if (started) {
          jumpToIndex = true;
          speechSynthesis.cancel();
        } else {
          updateDisplayAndHighlight();
        }
      });
      wordList.appendChild(li);
    });

    function updateDisplayAndHighlight() {
      const [en, es] = words[index];
      display.textContent = `${en} - ${es}`;

      Array.from(wordList.children).forEach(li => li.classList.remove('active'));
      const activeLi = wordList.querySelector(`li[data-idx="${index}"]`);
      if (activeLi) {
        activeLi.classList.add('active');
        activeLi.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }
    }

    function speakWord(text, lang) {
      return new Promise(resolve => {
        if (stopRequested || skipRequested || jumpToIndex) {
          resolve();
          return;
        }
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = lang;
        utterance.onend = () => resolve();
        utterance.onerror = () => resolve();
        speechSynthesis.speak(utterance);
      });
    }

    async function waitWithPause(ms) {
      const interval = 100;
      let waited = 0;
      while (waited < ms) {
        if (stopRequested || skipRequested || jumpToIndex) break;
        if (!pauseRequested) {
          waited += interval;
        }
        await new Promise(r => setTimeout(r, interval));
      }
    }

    async function playLoop() {
      while (!stopRequested) {
        if (pauseRequested) {
          await new Promise(r => setTimeout(r, 200));
          continue;
        }

        

        updateDisplayAndHighlight();
        const [english, spanish] = words[index];

        await speakWord(english, 'en-US');
        if (stopRequested || skipRequested || jumpToIndex) {
          if (skipRequested) {
            index = (index + 1) % words.length;
            skipRequested = false;
          }
          if (jumpToIndex) {
            jumpToIndex = false;
          }
          continue;
        }

        await speakWord(spanish, 'es-ES');
        if (stopRequested || skipRequested || jumpToIndex) {
          if (skipRequested) {
            index = (index + 1) % words.length;
            skipRequested = false;
          }
          if (jumpToIndex) {
            jumpToIndex = false;
          }
          continue;
        }

        index = (index + 1) % words.length;
        await waitWithPause(1000);
      }

      stopRequested = false;
      pauseRequested = false;
      skipRequested = false;
      jumpToIndex = false;
      started = false;
      speechSynthesis.cancel();
      display.textContent = "▶ Click to Start";
      controls.style.display = "none";
      pauseResumeBtn.textContent = "Pause";
      Array.from(wordList.children).forEach(li => li.classList.remove('active'));
    }

    display.addEventListener('click', () => {
      if (!started) {
        started = true;
        stopRequested = false;
        skipRequested = false;
        pauseRequested = false;
        index = 0;
        display.textContent = "Loading...";
        controls.style.display = "flex";
        pauseResumeBtn.textContent = "Pause";
        setTimeout(() => {
          playLoop();
        }, 500);
      }
    });

    stopBtn.addEventListener('click', () => {
      stopRequested = true;
      speechSynthesis.cancel();
    });

    nextBtn.addEventListener('click', () => {
      if (started) {
        skipRequested = true;
        speechSynthesis.cancel();
      }
    });

    prevBtn.addEventListener('click', () => {
      if (started) {
        skipRequested = true;
        index = (index - 1 + words.length) % words.length;
        speechSynthesis.cancel();
      }
    });

    pauseResumeBtn.addEventListener('click', () => {
      if (!started) return;
      if (!pauseRequested) {
        pauseRequested = true;
        speechSynthesis.pause();
        pauseResumeBtn.textContent = "Resume";
      } else {
        pauseRequested = false;
        speechSynthesis.resume();
        pauseResumeBtn.textContent = "Pause";
      }
    });
  </script>
  <!-- Bootstrap 5 JS + Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>

